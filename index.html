<!DOCTYPE html>
<html>
<head>
    <script src="phaser.min.js"></script>
</head>
<body>
<script>
    var config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

var game = new Phaser.Game(config);

var hexagonWidth = 80;
var hexagonHeight = 70;
var gridSizeX = 10;
var gridSizeY = 12;
var columns = [Math.ceil(gridSizeY/2),Math.floor(gridSizeY/2)];
var moveIndex;
var sectorWidth = hexagonWidth/4*3;
var sectorHeight = hexagonHeight;
var gradient = (hexagonWidth/4)/(hexagonHeight/2);
var marker;
var hexagonGroup;
var hexagonArray = [];
var objects = {};


function preload () {
    this.load.image("hexagon_inicial", "hexagon_inicial.png");
    this.load.image("hexagon_agec", "hexagon_agec.png");
    this.load.image("hexagon_agec_p", "hexagon_agec_p.png");
    this.load.image("hexagon_bdf", "hexagon_bdf.png");
    this.load.image("hexagon_bdf_p", "hexagon_bdf_p.png");
    this.load.image("hexagon_hi", "hexagon_hi.png");
    this.load.image("hexagon_hi_p", "hexagon_hi_p.png");
    this.load.image("pixel", "pixel.png");
    this.load.image("pig", "pig.png");
    this.load.image("cow", "cow.png");
    this.load.image("chicken", "chicken.png");
}

function create () {
    objects.camera = this.cameras.add(0, 0, 800, 600);
    objects.camera.setBackgroundColor('rgba(255, 255, 255, 0.9)');


    // Ranch tiles
    var h_inicial = this.add.sprite(400, 300, 'hexagon_inicial');

    var h_h1 = this.add.image(340, 265, "hexagon_hi").setInteractive();
    var h_g4 = this.add.image(340, 335, "hexagon_agec").setInteractive();
    var h_b2 = this.add.image(400, 230, "hexagon_bdf").setInteractive();
    var h_i3 = this.add.image(400, 370, "hexagon_hi").setInteractive();


    // Animal images
    var a_h1 = this.add.image(340, 265, "pixel");
    var a_g4 = this.add.image(340, 335, "pixel");
    var a_b2 = this.add.image(400, 230, "pixel");
    var a_i3 = this.add.image(400, 370, "pixel");

    // Tile numbers
    this.add.text(340, 265, '1', { fontFamily: 'Roboto Condensed', color: '#B3FF67', fontSize: '35px', wordWrap: true, wordWrapWidth: h_h1.width, align: "center" }).setOrigin(0.5);
    this.add.text(340, 335, '4', { fontFamily: 'Roboto Condensed', color: '#B3FF67', fontSize: '35px', wordWrap: true, wordWrapWidth: h_h1.width, align: "center" }).setOrigin(0.5);
    this.add.text(400, 230, '2', { fontFamily: 'Roboto Condensed', color: '#B3FF67', fontSize: '35px', wordWrap: true, wordWrapWidth: h_h1.width, align: "center" }).setOrigin(0.5);
    this.add.text(400, 370, '3', { fontFamily: 'Roboto Condensed', color: '#B3FF67', fontSize: '35px', wordWrap: true, wordWrapWidth: h_h1.width, align: "center" }).setOrigin(0.5);



    h_h1.on('pointerdown', function () {
        rotateSprite(a_h1);
        //h_h1.setTint(0x7878ff);
    });

    h_h1.on('pointerup', function () {
        //h_h1.clearTint();
    });
}

function rotateSprite(animal) {
    if(animal.texture.key === "pixel") {
        animal.setTexture('chicken');
    }
    else if(animal.texture.key === "chicken") animal.setTexture('pig');
    else if(animal.texture.key === "pig") animal.setTexture('cow');
    else animal.setTexture('pixel');
}

function update ()
{
}
</script>

</body>
</html>
